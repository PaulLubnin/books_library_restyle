# Библиотека [tululu.org](https://tululu.org/) (офф-лайн версия)

### Как установить
Для запуска нужен установленный Python 3.8 и старше, а так же [git](https://git-scm.com/downloads).
После установки Python и Git можно приступать к установке библиотеки на компьютер.

Склонируйте проект:
```
git clone https://github.com/PaulLubnin/books_library_restyle.git
```
Создайте отдельную среду для установки всех зависимостей, затем активируйте её:

если у вас установлен только один Python:
```
python -m venv env
```
если у вас установлены несколько разных версии Python:
```
py -3.8 -m venv env
```
Затем из папки с файлом в командной строке наберите:
```
pip install -r requirements.txt
```

### Как пользоваться
Чтобы воспользоваться библиотекой сначала необходимо скачать книги с [сайта](https://tululu.org/) с помощью встроеного парсера.

Команды для запуска парсера:
- для скачивания книг по порядковому номеру
```
python parse_tululu.py --start_page [номер книги] --end_page [номер книги] --dest_folder [папка] --json_path [путь]
```
- для скачивания книг по жанрам (пока реализовано скачивание книг одного жанра)
```
python parse_tululu_category.py -s [номер страницы] -e [номер страницы] -df [папка] -j [путь]
```
Если для сохранения файлов будет указана своя папка, то будет создан `.env` файл с путём до папки с файлами.

Для сохранения `json` файла необходимо указать полный путь, например: `С://folder/folder1/file.json`, 
либо `folder/folder1/file.json`, либо `file.json`. Если путь к файлу не указывать, то `json` файл сохранится в папку `media`.

Чтобы не запускать сервер, библиотекой можно воспользоваться просто открыв файлы с помощью браузера.
Перейдите в папку с проектом, затем откройте папку `pages` и откройте любой файл.

#### Пример использования:
- программа начнет скачивать книги с 1 по 20
```
python parse_tululu.py -s 1 -e 20
```
- программа начнет скачивать книги из раздела с жанрами с 600 по 601 станицы
```
python parse_tululu_category.py --start_page 600 --end_page 602
```
- программа начнет скачивать книги из раздела с жанрами с 600 до последней
```
python parse_tululu_category.py --start_page 600
```
- запустить сайт
```
python render_website.py
```
- после запуска сервера на локальном компьютере перейдите в браузере по адресу
```
http://127.0.0.1:5500
```

### Аргументы
`--start_page` или `-s` - номер страницы, с которой начнется скачивание книг

`--end_page` или `-e` - номер страницы, на которой закончится скачивание

`--dest_folder` или `-df` - название папки куда сохранить скачанные файлы, по умолчанию это папка `media`

`--skip_imgs` или `-si` - скачивать ли обложки книг

`--skip_txt` или `-st` - скачивать ли книги

`--json_path` или `-j` - путь куда сохранить JSON файл с данными о книге

### Посмотреть пример запущенного сервера можно [тут](https://paullubnin.github.io/books_library_restyle/pages/index1.html)

### Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).